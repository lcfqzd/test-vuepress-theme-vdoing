(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{340:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"游戏框架搭建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#游戏框架搭建"}},[s._v("#")]),s._v(" 游戏框架搭建")]),s._v(" "),t("p",[t("strong",[s._v("目标")]),s._v(" —— 使用 "),t("strong",[s._v("面相对象")]),s._v(" 设计 "),t("strong",[s._v("飞机大战游戏类")])]),s._v(" "),t("h2",{attrs:{id:"目标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[s._v("#")]),s._v(" 目标")]),s._v(" "),t("ul",[t("li",[s._v("明确主程序职责")]),s._v(" "),t("li",[s._v("实现主程序类")]),s._v(" "),t("li",[s._v("准备游戏精灵组")])]),s._v(" "),t("h2",{attrs:{id:"_01-明确主程序职责"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_01-明确主程序职责"}},[s._v("#")]),s._v(" 01. 明确主程序职责")]),s._v(" "),t("ul",[t("li",[s._v("回顾 "),t("strong",[s._v("快速入门案例")]),s._v("，一个游戏主程序的 "),t("strong",[s._v("职责")]),s._v(" 可以分为两个部分：\n"),t("ul",[t("li",[s._v("游戏初始化")]),s._v(" "),t("li",[s._v("游戏循环")])])]),s._v(" "),t("li",[s._v("根据明确的职责，设计 "),t("code",[s._v("PlaneGame")]),s._v(" 类如下：")])]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025159832322/009_%E6%B8%B8%E6%88%8F%E4%B8%BB%E7%A8%8B%E5%BA%8F.png",alt:"009_游戏主程序-w600"}})]),s._v(" "),t("blockquote",[t("p",[t("strong",[s._v("提示")]),s._v(" 根据 "),t("strong",[s._v("职责")]),s._v(" 封装私有方法，可以避免某一个方法的代码写得太过冗长")]),s._v(" "),t("p",[s._v("如果某一个方法编写的太长，既不好阅读，也不好维护！")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("游戏初始化")]),s._v(" ——  "),t("code",[s._v("__init__()")]),s._v(" 会调用以下方法：")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("方法")]),s._v(" "),t("th",[s._v("职责")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("__create_sprites(self)")])]),s._v(" "),t("td",[s._v("创建所有精灵和精灵组")])])])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("游戏循环")]),s._v(" —— "),t("code",[s._v("start_game()")]),s._v(" 会调用以下方法：")])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("方法")]),s._v(" "),t("th",[s._v("职责")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[t("code",[s._v("__event_handler(self)")])]),s._v(" "),t("td",[s._v("事件监听")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("__check_collide(self)")])]),s._v(" "),t("td",[s._v("碰撞检测 —— 子弹销毁敌机、敌机撞毁英雄")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("__update_sprites(self)")])]),s._v(" "),t("td",[s._v("精灵组更新和绘制")])]),s._v(" "),t("tr",[t("td",[t("code",[s._v("__game_over()")])]),s._v(" "),t("td",[s._v("游戏结束")])])])]),s._v(" "),t("h2",{attrs:{id:"_02-实现飞机大战主游戏类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_02-实现飞机大战主游戏类"}},[s._v("#")]),s._v(" 02. 实现飞机大战主游戏类")]),s._v(" "),t("h3",{attrs:{id:"_2-1-明确文件职责"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-明确文件职责"}},[s._v("#")]),s._v(" 2.1 明确文件职责")]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025159832322/011_%E7%A8%8B%E5%BA%8F%E6%96%87%E4%BB%B6%E8%81%8C%E8%B4%A3.png",alt:"011_程序文件职责-w479"}})]),s._v(" "),t("ul",[t("li",[t("code",[s._v("plane_main")]),s._v(" "),t("ol",[t("li",[s._v("封装 "),t("strong",[s._v("主游戏类")])]),s._v(" "),t("li",[s._v("创建 "),t("strong",[s._v("游戏对象")])]),s._v(" "),t("li",[t("strong",[s._v("启动游戏")])])])]),s._v(" "),t("li",[t("code",[s._v("plane_sprites")]),s._v(" "),t("ul",[t("li",[s._v("封装游戏中 "),t("strong",[s._v("所有")]),s._v(" 需要使用的 "),t("strong",[s._v("精灵子类")])]),s._v(" "),t("li",[s._v("提供游戏的 "),t("strong",[s._v("相关工具")])])])])]),s._v(" "),t("h4",{attrs:{id:"代码实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码实现"}},[s._v("#")]),s._v(" 代码实现")]),s._v(" "),t("ul",[t("li",[s._v("新建 "),t("code",[s._v("plane_main.py")]),s._v(" 文件，并且设置为可执行")]),s._v(" "),t("li",[s._v("编写 "),t("strong",[s._v("基础代码")])])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" pygame\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" plane_sprites "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("PlaneGame")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("object")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""飞机大战主游戏"""')]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"游戏初始化"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("start_game")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"开始游戏..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" __name__ "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'__main__'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建游戏对象")]),s._v("\n    game "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" PlaneGame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 开始游戏")]),s._v("\n    game"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("start_game"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("h3",{attrs:{id:"_2-3-游戏初始化部分"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-游戏初始化部分"}},[s._v("#")]),s._v(" 2.3 游戏初始化部分")]),s._v(" "),t("ul",[t("li",[s._v("完成 "),t("code",[s._v("__init__()")]),s._v(" 代码如下：")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"游戏初始化"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 创建游戏的窗口")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("screen "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("display"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("set_mode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("480")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("700")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 创建游戏的时钟")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("clock "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Clock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 调用私有方法，精灵和精灵组的创建")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__create_sprites"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__create_sprites")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])]),t("h4",{attrs:{id:"使用-常量-代替固定的数值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-常量-代替固定的数值"}},[s._v("#")]),s._v(" 使用 常量 代替固定的数值")]),s._v(" "),t("blockquote",[t("ul",[t("li",[s._v("常量 —— 不变化的量")]),s._v(" "),t("li",[s._v("变量 —— 可以变化的量")])])]),s._v(" "),t("p",[t("strong",[s._v("应用场景")])]),s._v(" "),t("ul",[t("li",[s._v("在开发时，可能会需要使用 "),t("strong",[s._v("固定的数值")]),s._v("，例如 "),t("strong",[s._v("屏幕的高度")]),s._v(" 是 "),t("code",[s._v("700")])]),s._v(" "),t("li",[s._v("这个时候，建议 "),t("strong",[s._v("不要")]),s._v(" 直接使用固定数值，而应该使用 "),t("strong",[s._v("常量")])]),s._v(" "),t("li",[s._v("在开发时，为了保证代码的可维护性，尽量不要使用 "),t("strong",[s._v("魔法数字")])])]),s._v(" "),t("p",[t("strong",[s._v("常量的定义")])]),s._v(" "),t("ul",[t("li",[s._v("定义 "),t("strong",[s._v("常量")]),s._v(" 和 定义 "),t("strong",[s._v("变量")]),s._v(" 的语法完全一样，都是使用 "),t("strong",[s._v("赋值语句")])]),s._v(" "),t("li",[t("strong",[s._v("常量")]),s._v(" 的 "),t("strong",[s._v("命名")]),s._v(" 应该 "),t("strong",[s._v("所有字母都使用大写")]),s._v("，"),t("strong",[s._v("单词与单词之间使用下划线连接")])])]),s._v(" "),t("p",[t("strong",[s._v("常量的好处")])]),s._v(" "),t("ul",[t("li",[s._v("阅读代码时，通过 "),t("strong",[s._v("常量名")]),s._v(" "),t("strong",[s._v("见名之意")]),s._v("，不需要猜测数字的含义")]),s._v(" "),t("li",[s._v("如果需要 "),t("strong",[s._v("调整值")]),s._v("，只需要 "),t("strong",[s._v("修改常量定义")]),s._v(" 就可以实现 "),t("strong",[s._v("统一修改")])])]),s._v(" "),t("blockquote",[t("p",[s._v("提示：Python 中并没有真正意义的常量，只是通过命名的约定 —— 所有字母都是大写的就是常量，开发时不要轻易的修改！")])]),s._v(" "),t("p",[t("strong",[s._v("代码调整")])]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("plane_sprites.py")]),s._v(" 中增加常量定义")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" pygame\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 游戏屏幕大小")]),s._v("\nSCREEN_RECT "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("480")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("700")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[s._v("修改 "),t("code",[s._v("plane_main.py")]),s._v(" 中的窗口大小")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("screen "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("display"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("set_mode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("SCREEN_RECT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("size"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-4-游戏循环部分"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-游戏循环部分"}},[s._v("#")]),s._v(" 2.4 游戏循环部分")]),s._v(" "),t("ul",[t("li",[s._v("完成 "),t("code",[s._v("start_game()")]),s._v(" 基础代码如下：")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("start_game")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""开始游戏"""')]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"开始游戏..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n       \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 设置刷新帧率")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("clock"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tick"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("60")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 事件监听")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__event_handler"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 碰撞检测")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__check_collide"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4. 更新精灵组")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__update_sprites"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 5. 更新屏幕显示")]),s._v("\n        pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("display"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("update"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__event_handler")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""事件监听"""')]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" event "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    \n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("QUIT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            PlaneGame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__game_over"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__check_collide")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""碰撞检测"""')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__update_sprites")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""更新精灵组"""')]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("pass")]),s._v("\n    \n"),t("span",{pre:!0,attrs:{class:"token decorator annotation punctuation"}},[s._v("@staticmethod")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__game_over")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n   "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""游戏结束"""')]),s._v("\n\n   "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"游戏结束"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("quit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n   exit"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br")])]),t("h2",{attrs:{id:"_03-准备游戏精灵组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_03-准备游戏精灵组"}},[s._v("#")]),s._v(" 03. 准备游戏精灵组")]),s._v(" "),t("h3",{attrs:{id:"_3-1-确定精灵组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-确定精灵组"}},[s._v("#")]),s._v(" 3.1 确定精灵组")]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025159832322/010_%E7%B2%BE%E7%81%B5%E7%BB%84%E7%A1%AE%E5%AE%9A.png",alt:"010_精灵组确定-w600"}})]),s._v(" "),t("h3",{attrs:{id:"_3-2-代码实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-代码实现"}},[s._v("#")]),s._v(" 3.2 代码实现")]),s._v(" "),t("ul",[t("li",[s._v("创建精灵组方法")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__create_sprites")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""创建精灵组"""')]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 背景组")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("back_group "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sprite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 敌机组")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("enemy_group "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sprite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 英雄组")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero_group "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sprite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("ul",[t("li",[s._v("更新精灵组方法")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__update_sprites")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""更新精灵组"""')]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" group "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("back_group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("enemy_group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero_group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    \n        group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("update"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("draw"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("screen"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);