(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{341:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"敌机出场"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#敌机出场"}},[s._v("#")]),s._v(" 敌机出场")]),s._v(" "),t("h2",{attrs:{id:"目标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[s._v("#")]),s._v(" 目标")]),s._v(" "),t("ul",[t("li",[s._v("使用 "),t("strong",[s._v("定时器")]),s._v(" 添加敌机")]),s._v(" "),t("li",[s._v("设计 "),t("code",[s._v("Enemy")]),s._v(" 类")])]),s._v(" "),t("h2",{attrs:{id:"_01-使用定时器添加敌机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_01-使用定时器添加敌机"}},[s._v("#")]),s._v(" 01. 使用定时器添加敌机")]),s._v(" "),t("p",[s._v("运行 "),t("strong",[s._v("备课代码")]),s._v("，"),t("strong",[s._v("观察")]),s._v(" 敌机的 "),t("strong",[s._v("出现规律")]),s._v("：")]),s._v(" "),t("ol",[t("li",[s._v("游戏启动后，"),t("strong",[s._v("每隔 1 秒")]),s._v(" 会 "),t("strong",[s._v("出现一架敌机")])]),s._v(" "),t("li",[s._v("每架敌机 "),t("strong",[s._v("向屏幕下方飞行")]),s._v("，飞行 "),t("strong",[s._v("速度各不相同")])]),s._v(" "),t("li",[s._v("每架敌机出现的 "),t("strong",[s._v("水平位置")]),s._v(" 也不尽相同")]),s._v(" "),t("li",[s._v("当敌机 "),t("strong",[s._v("从屏幕下方飞出")]),s._v("，不会再飞回到屏幕中")])]),s._v(" "),t("h3",{attrs:{id:"_1-1-定时器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-定时器"}},[s._v("#")]),s._v(" 1.1 定时器")]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("pygame")]),s._v(" 中可以使用 "),t("code",[s._v("pygame.time.set_timer()")]),s._v(" 来添加 "),t("strong",[s._v("定时器")])]),s._v(" "),t("li",[s._v("所谓 "),t("strong",[s._v("定时器")]),s._v("，就是 "),t("strong",[s._v("每隔一段时间")]),s._v("，去 "),t("strong",[s._v("执行一些动作")])])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("set_timer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("eventid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" milliseconds"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("None")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("set_timer")]),s._v(" 可以创建一个 "),t("strong",[s._v("事件")])]),s._v(" "),t("li",[s._v("可以在 "),t("strong",[s._v("游戏循环")]),s._v(" 的 "),t("strong",[s._v("事件监听")]),s._v(" 方法中捕获到该事件")]),s._v(" "),t("li",[s._v("第 1 个参数 "),t("strong",[s._v("事件代号")]),s._v(" 需要基于常量 "),t("code",[s._v("pygame.USEREVENT")]),s._v(" 来指定\n"),t("ul",[t("li",[t("code",[s._v("USEREVENT")]),s._v(" 是一个整数，再增加的事件可以使用 "),t("code",[s._v("USEREVENT + 1")]),s._v(" 指定，依次类推...")])])]),s._v(" "),t("li",[s._v("第 2 个参数是 "),t("strong",[s._v("事件触发")]),s._v(" 间隔的 "),t("strong",[s._v("毫秒值")])])]),s._v(" "),t("p",[t("strong",[s._v("定时器事件的监听")])]),s._v(" "),t("ul",[t("li",[s._v("通过 "),t("code",[s._v("pygame.event.get()")]),s._v(" 可以获取当前时刻所有的 "),t("strong",[s._v("事件列表")])]),s._v(" "),t("li",[t("strong",[s._v("遍历列表")]),s._v(" 并且判断 "),t("code",[s._v("event.type")]),s._v(" 是否等于 "),t("code",[s._v("eventid")]),s._v("，如果相等，表示 "),t("strong",[s._v("定时器事件")]),s._v(" 发生")])]),s._v(" "),t("h3",{attrs:{id:"_1-2-定义并监听创建敌机的定时器事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-定义并监听创建敌机的定时器事件"}},[s._v("#")]),s._v(" 1.2 定义并监听创建敌机的定时器事件")]),s._v(" "),t("p",[t("code",[s._v("pygame")]),s._v(" 的 "),t("strong",[s._v("定时器")]),s._v(" 使用套路非常固定：")]),s._v(" "),t("ol",[t("li",[s._v("定义 "),t("strong",[s._v("定时器常量")]),s._v(" —— "),t("code",[s._v("eventid")])]),s._v(" "),t("li",[s._v("在 "),t("strong",[s._v("初始化方法")]),s._v(" 中，调用 "),t("code",[s._v("set_timer")]),s._v(" 方法 "),t("strong",[s._v("设置定时器事件")])]),s._v(" "),t("li",[s._v("在 "),t("strong",[s._v("游戏循环")]),s._v(" 中，"),t("strong",[s._v("监听定时器事件")])])]),s._v(" "),t("h4",{attrs:{id:"_1-定义事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-定义事件"}},[s._v("#")]),s._v(" 1) 定义事件")]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("plane_sprites.py")]),s._v(" 的顶部定义 "),t("strong",[s._v("事件常量")])])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 敌机的定时器事件常量")]),s._v("\nCREATE_ENEMY_EVENT "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("USEREVENT\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("在 "),t("code",[s._v("PlaneGame")]),s._v(" 的 "),t("strong",[s._v("初始化方法")]),s._v(" 中 "),t("strong",[s._v("创建用户事件")])])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 4. 设置定时器事件 - 每秒创建一架敌机")]),s._v("\npygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("set_timer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CREATE_ENEMY_EVENT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1000")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"_2-监听定时器事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-监听定时器事件"}},[s._v("#")]),s._v(" 2) 监听定时器事件")]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("__event_handler")]),s._v(" 方法中增加以下代码：")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__event_handler")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" event "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断是否退出游戏")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("QUIT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            PlaneGame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__game_over"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" CREATE_ENEMY_EVENT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"敌机出场..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h2",{attrs:{id:"_02-设计-enemy-类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_02-设计-enemy-类"}},[s._v("#")]),s._v(" 02. 设计 "),t("code",[s._v("Enemy")]),s._v(" 类")]),s._v(" "),t("ol",[t("li",[s._v("游戏启动后，"),t("strong",[s._v("每隔 1 秒")]),s._v(" 会 "),t("strong",[s._v("出现一架敌机")])]),s._v(" "),t("li",[s._v("每架敌机 "),t("strong",[s._v("向屏幕下方飞行")]),s._v("，飞行 "),t("strong",[s._v("速度各不相同")])]),s._v(" "),t("li",[s._v("每架敌机出现的 "),t("strong",[s._v("水平位置")]),s._v(" 也不尽相同")]),s._v(" "),t("li",[s._v("当敌机 "),t("strong",[s._v("从屏幕下方飞出")]),s._v("，不会再飞回到屏幕中")])]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025309517247/014_%E6%B4%BE%E7%94%9FEnemy%E5%AD%90%E7%B1%BB.png",alt:"014_派生Enemy子类-w657"}})]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("初始化方法")]),s._v(" "),t("ul",[t("li",[s._v("指定 "),t("strong",[s._v("敌机图片")])]),s._v(" "),t("li",[t("strong",[s._v("随机")]),s._v(" 敌机的 "),t("strong",[s._v("初始位置")]),s._v(" 和 "),t("strong",[s._v("初始速度")])])])]),s._v(" "),t("li",[s._v("重写 "),t("strong",[s._v("update()")]),s._v(" 方法\n"),t("ul",[t("li",[s._v("判断 "),t("strong",[s._v("是否飞出屏幕")]),s._v("，如果是，从 "),t("strong",[s._v("精灵组")]),s._v(" 删除")])])])]),s._v(" "),t("h3",{attrs:{id:"_2-1-敌机类的准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-敌机类的准备"}},[s._v("#")]),s._v(" 2.1 敌机类的准备")]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("plane_sprites")]),s._v(" 新建 "),t("code",[s._v("Enemy")]),s._v(" 继承自 "),t("code",[s._v("GameSprite")])]),s._v(" "),t("li",[s._v("重写 "),t("strong",[s._v("初始化方法")]),s._v("，直接指定 "),t("strong",[s._v("图片名称")])]),s._v(" "),t("li",[s._v("暂时 "),t("strong",[s._v("不实现")]),s._v(" "),t("strong",[s._v("随机速度")]),s._v(" 和 "),t("strong",[s._v("随机位置")]),s._v(" 的指定")]),s._v(" "),t("li",[s._v("重写 "),t("code",[s._v("update")]),s._v(" 方法，判断是否飞出屏幕")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enemy")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GameSprite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""敌机精灵"""')]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 调用父类方法，创建敌机精灵，并且指定敌机的图像")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__init__"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./images/enemy1.png"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 设置敌机的随机初始速度")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 设置敌机的随机初始位置")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("update")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 调用父类方法，让敌机在垂直方向运动")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("update"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 判断是否飞出屏幕，如果是，需要将敌机从精灵组删除")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" SCREEN_RECT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"敌机飞出屏幕..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br")])]),t("h3",{attrs:{id:"_2-2-创建敌机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-创建敌机"}},[s._v("#")]),s._v(" 2.2 创建敌机")]),s._v(" "),t("p",[t("strong",[s._v("演练步骤")])]),s._v(" "),t("ol",[t("li",[s._v("在 "),t("code",[s._v("__create_sprites")]),s._v("，添加 "),t("strong",[s._v("敌机精灵组")]),s._v(" "),t("ul",[t("li",[s._v("敌机是 "),t("strong",[s._v("定时被创建的")]),s._v("，因此在初始化方法中，不需要创建敌机")])])]),s._v(" "),t("li",[s._v("在 "),t("code",[s._v("__event_handler")]),s._v("，创建敌机，并且 "),t("strong",[s._v("添加到精灵组")]),s._v(" "),t("ul",[t("li",[s._v("调用 "),t("strong",[s._v("精灵组")]),s._v(" 的 "),t("code",[s._v("add")]),s._v(" 方法可以 "),t("strong",[s._v("向精灵组添加精灵")])])])]),s._v(" "),t("li",[s._v("在 "),t("code",[s._v("__update_sprites")]),s._v("，让 "),t("strong",[s._v("敌机精灵组")]),s._v(" 调用 "),t("code",[s._v("update")]),s._v(" 和 "),t("code",[s._v("draw")]),s._v(" 方法")])]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025309517247/006_pygame.SpriteII.png",alt:"006_pygame.SpriteII"}})]),s._v(" "),t("p",[t("strong",[s._v("演练代码")])]),s._v(" "),t("ul",[t("li",[s._v("修改 "),t("code",[s._v("plane_main")]),s._v(" 的 "),t("code",[s._v("__create_sprites")]),s._v(" 方法")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 敌机组")]),s._v("\nself"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("enemy_group "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sprite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("修改 "),t("code",[s._v("plane_main")]),s._v(" 的 "),t("code",[s._v("__update_sprites")]),s._v(" 方法")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("enemy_group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("update"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nself"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("enemy_group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("draw"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("screen"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("定时出现敌机")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" CREATE_ENEMY_EVENT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("enemy_group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Enemy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_2-3-随机敌机位置和速度"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-随机敌机位置和速度"}},[s._v("#")]),s._v(" 2.3 随机敌机位置和速度")]),s._v(" "),t("h4",{attrs:{id:"_1-导入模块"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-导入模块"}},[s._v("#")]),s._v(" 1) 导入模块")]),s._v(" "),t("ul",[t("li",[s._v("在导入模块时，"),t("strong",[s._v("建议")]),s._v(" 按照以下顺序导入")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" 官方标准模块导入\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" 第三方模块导入\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" 应用程序模块导入\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("修改 "),t("code",[s._v("plane_sprites.py")]),s._v(" 增加 "),t("code",[s._v("random")]),s._v(" 的导入")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" random\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"_2-随机位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-随机位置"}},[s._v("#")]),s._v(" 2) 随机位置")]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025309517247/015_%E9%A3%9E%E6%9C%BA%E5%88%9D%E5%A7%8B%E4%BD%8D%E7%BD%AE.png",alt:"015_飞机初始位置-w360"}})]),s._v(" "),t("p",[s._v("使用 "),t("code",[s._v("pygame.Rect")]),s._v(" 提供的 "),t("code",[s._v("bottom")]),s._v(" 属性，在指定敌机初始位置时，会比较方便")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("bottom = y + height")])]),s._v(" "),t("li",[t("code",[s._v("y = bottom - height")])])]),s._v(" "),t("h4",{attrs:{id:"_3-代码实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-代码实现"}},[s._v("#")]),s._v(" 3) 代码实现")]),s._v(" "),t("ul",[t("li",[s._v("修改 "),t("strong",[s._v("初始化方法")]),s._v("，随机敌机出现 "),t("strong",[s._v("速度")]),s._v(" 和 "),t("strong",[s._v("位置")])])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 调用父类方法，创建敌机精灵，并且指定敌机的图像")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__init__"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./images/enemy1.png"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 设置敌机的随机初始速度 1 ~ 3")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("speed "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" random"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("randint"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 设置敌机的随机初始位置")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bottom "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    \n    max_x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SCREEN_RECT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("width "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("width\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" random"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("randint"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" max_x"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br")])]),t("h3",{attrs:{id:"_2-4-移出屏幕销毁敌机"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-移出屏幕销毁敌机"}},[s._v("#")]),s._v(" 2.4 移出屏幕销毁敌机")]),s._v(" "),t("ul",[t("li",[s._v("敌机移出屏幕之后，如果 "),t("strong",[s._v("没有撞到英雄")]),s._v("，敌机的历史使命已经终结")]),s._v(" "),t("li",[s._v("需要从 "),t("strong",[s._v("敌机组")]),s._v(" 删除，否则会造成 "),t("strong",[s._v("内存浪费")])])]),s._v(" "),t("h4",{attrs:{id:"检测敌机被销毁"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#检测敌机被销毁"}},[s._v("#")]),s._v(" 检测敌机被销毁")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("__del__")]),s._v(" 内置方法会在对象被销毁前调用，在开发中，可以用于 "),t("strong",[s._v("判断对象是否被销毁")])])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__del__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"敌机挂了 %s"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("%")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"代码实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码实现"}},[s._v("#")]),s._v(" 代码实现")]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025309517247/006_pygame.SpriteII.png",alt:"006_pygame.SpriteII"}})]),s._v(" "),t("ul",[t("li",[s._v("判断敌机是否飞出屏幕，如果是，调用 "),t("code",[s._v("kill()")]),s._v(" 方法从所有组中删除")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("update")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("update"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断敌机是否移出屏幕")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">=")]),s._v(" SCREEN_RECT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 将精灵从所有组中删除")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("kill"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);