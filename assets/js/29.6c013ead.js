(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{349:function(s,t,a){"use strict";a.r(t);var n=a(7),e=Object(n.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"英雄登场"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#英雄登场"}},[s._v("#")]),s._v(" 英雄登场")]),s._v(" "),t("h2",{attrs:{id:"目标"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[s._v("#")]),s._v(" 目标")]),s._v(" "),t("ul",[t("li",[s._v("设计 "),t("strong",[s._v("英雄")]),s._v(" 和 "),t("strong",[s._v("子弹")]),s._v(" 类")]),s._v(" "),t("li",[s._v("使用 "),t("code",[s._v("pygame.key.get_pressed()")]),s._v(" 移动英雄")]),s._v(" "),t("li",[s._v("发射子弹")])]),s._v(" "),t("h2",{attrs:{id:"_01-设计-英雄-和-子弹-类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_01-设计-英雄-和-子弹-类"}},[s._v("#")]),s._v(" 01. 设计 "),t("strong",[s._v("英雄")]),s._v(" 和 "),t("strong",[s._v("子弹")]),s._v(" 类")]),s._v(" "),t("h3",{attrs:{id:"英雄需求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#英雄需求"}},[s._v("#")]),s._v(" 英雄需求")]),s._v(" "),t("ol",[t("li",[s._v("游戏启动后，"),t("strong",[s._v("英雄")]),s._v(" 出现在屏幕的 "),t("strong",[s._v("水平中间")]),s._v(" 位置，距离 "),t("strong",[s._v("屏幕底部")]),s._v(" "),t("code",[s._v("120")]),s._v(" "),t("strong",[s._v("像素")])]),s._v(" "),t("li",[t("strong",[s._v("英雄")]),s._v(" 每隔 "),t("code",[s._v("0.5")]),s._v(" 秒发射一次子弹，每次 "),t("strong",[s._v("连发三枚子弹")])]),s._v(" "),t("li",[t("strong",[s._v("英雄")]),s._v(" 默认不会移动，需要通过 "),t("strong",[s._v("左/右")]),s._v(" 方向键，控制 "),t("strong",[s._v("英雄")]),s._v(" 在水平方向移动")])]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025349250200/017_%E8%8B%B1%E9%9B%84%E4%BD%8D%E7%BD%AE.png",alt:"017_英雄位置-w480"}})]),s._v(" "),t("h3",{attrs:{id:"子弹需求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#子弹需求"}},[s._v("#")]),s._v(" 子弹需求")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("子弹")]),s._v(" 从 "),t("strong",[s._v("英雄")]),s._v(" 的正上方发射 "),t("strong",[s._v("沿直线")]),s._v(" 向 "),t("strong",[s._v("上方")]),s._v(" 飞行")]),s._v(" "),t("li",[t("strong",[s._v("飞出屏幕后")]),s._v("，需要从 "),t("strong",[s._v("精灵组")]),s._v(" 中删除")])]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025349250200/016_%E6%B4%BE%E7%94%9F%E8%8B%B1%E9%9B%84%E5%92%8C%E5%AD%90%E5%BC%B9%E5%AD%90%E7%B1%BB.png",alt:"016_派生英雄和子弹子类"}})]),s._v(" "),t("h3",{attrs:{id:"hero-英雄"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hero-英雄"}},[s._v("#")]),s._v(" Hero —— 英雄")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("初始化方法")]),s._v(" "),t("ul",[t("li",[s._v("指定 "),t("strong",[s._v("英雄图片")])]),s._v(" "),t("li",[t("strong",[s._v("初始速度 = 0")]),s._v(" —— 英雄默认静止不动")]),s._v(" "),t("li",[s._v("定义 "),t("code",[s._v("bullets")]),s._v(" "),t("strong",[s._v("子弹精灵组")]),s._v(" 保存子弹精灵")])])]),s._v(" "),t("li",[s._v("重写 "),t("strong",[s._v("update()")]),s._v(" 方法\n"),t("ul",[t("li",[s._v("英雄需要 "),t("strong",[s._v("水平移动")])]),s._v(" "),t("li",[s._v("并且需要保证不能 "),t("strong",[s._v("移出屏幕")])])])]),s._v(" "),t("li",[s._v("增加 "),t("code",[s._v("bullets")]),s._v(" 属性，记录所有 "),t("strong",[s._v("子弹精灵")])]),s._v(" "),t("li",[s._v("增加 "),t("code",[s._v("fire")]),s._v(" 方法，用于发射子弹")])]),s._v(" "),t("h3",{attrs:{id:"bullet-子弹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bullet-子弹"}},[s._v("#")]),s._v(" Bullet —— 子弹")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("初始化方法")]),s._v(" "),t("ul",[t("li",[s._v("指定 "),t("strong",[s._v("子弹图片")])]),s._v(" "),t("li",[t("strong",[s._v("初始速度 = -2")]),s._v(" —— 子弹需要向上方飞行")])])]),s._v(" "),t("li",[s._v("重写 "),t("strong",[s._v("update()")]),s._v(" 方法\n"),t("ul",[t("li",[s._v("判断 "),t("strong",[s._v("是否飞出屏幕")]),s._v("，如果是，从 "),t("strong",[s._v("精灵组")]),s._v(" 删除")])])])]),s._v(" "),t("h2",{attrs:{id:"_02-创建英雄"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_02-创建英雄"}},[s._v("#")]),s._v(" 02. 创建英雄")]),s._v(" "),t("h3",{attrs:{id:"_2-1-准备英雄类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-准备英雄类"}},[s._v("#")]),s._v(" 2.1 准备英雄类")]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("plane_sprites")]),s._v(" 新建 "),t("code",[s._v("Hero")]),s._v(" 类")]),s._v(" "),t("li",[s._v("重写 "),t("strong",[s._v("初始化方法")]),s._v("，直接指定 "),t("strong",[s._v("图片名称")]),s._v("，并且将初始速度设置为 "),t("code",[s._v("0")])]),s._v(" "),t("li",[s._v("设置 "),t("strong",[s._v("英雄的初始位置")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025349250200/003_pygame.Rect.png",alt:"003_pygame.Rect-w382"}})]),s._v(" "),t("ul",[t("li",[t("code",[s._v("centerx = x + 0.5 * width")])]),s._v(" "),t("li",[t("code",[s._v("centery = y + 0.5 * height")])]),s._v(" "),t("li",[t("code",[s._v("bottom = y + height")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025349250200/017_%E8%8B%B1%E9%9B%84%E4%BD%8D%E7%BD%AE.png",alt:"017_英雄位置-w480"}})]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Hero")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GameSprite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""英雄精灵"""')]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__init__"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./images/me1.png"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 设置初始位置")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("centerx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SCREEN_RECT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("centerx\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bottom "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SCREEN_RECT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bottom "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h3",{attrs:{id:"_2-2-绘制英雄"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-绘制英雄"}},[s._v("#")]),s._v(" 2.2 绘制英雄")]),s._v(" "),t("ol",[t("li",[s._v("在 "),t("code",[s._v("__create_sprites")]),s._v("，添加 "),t("strong",[s._v("英雄精灵")]),s._v(" 和 "),t("strong",[s._v("英雄精灵组")]),s._v(" "),t("ul",[t("li",[s._v("后续要针对 "),t("strong",[s._v("英雄")]),s._v(" 做 "),t("strong",[s._v("碰撞检测")]),s._v(" 以及 "),t("strong",[s._v("发射子弹")])]),s._v(" "),t("li",[s._v("所以 "),t("strong",[s._v("英雄")]),s._v(" 需要 "),t("strong",[s._v("单独定义成属性")])])])]),s._v(" "),t("li",[s._v("在 "),t("code",[s._v("__update_sprites")]),s._v("，让 "),t("strong",[s._v("英雄精灵组")]),s._v(" 调用 "),t("code",[s._v("update")]),s._v(" 和 "),t("code",[s._v("draw")]),s._v(" 方法")])]),s._v(" "),t("h4",{attrs:{id:"代码实现"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码实现"}},[s._v("#")]),s._v(" 代码实现")]),s._v(" "),t("ul",[t("li",[s._v("修改 "),t("code",[s._v("__create_sprites")]),s._v(" 方法如下：")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 英雄组")]),s._v("\nself"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Hero"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nself"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero_group "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sprite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[s._v("修改 "),t("code",[s._v("__update_sprites")]),s._v(" 方法如下：")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero_group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("update"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nself"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero_group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("draw"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("screen"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"_03-移动英雄位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_03-移动英雄位置"}},[s._v("#")]),s._v(" 03. 移动英雄位置")]),s._v(" "),t("blockquote",[t("p",[s._v("在 "),t("code",[s._v("pygame")]),s._v(" 中针对 "),t("strong",[s._v("键盘按键的捕获")]),s._v("，有 "),t("strong",[s._v("两种")]),s._v(" 方式")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("第一种方式")]),s._v(" 判断 "),t("code",[s._v("event.type == pygame.KEYDOWN")])]),s._v(" "),t("li",[t("strong",[s._v("第二种方式")]),s._v(" "),t("ol",[t("li",[s._v("首先使用 "),t("code",[s._v("pygame.key.get_pressed()")]),s._v(" 返回 "),t("strong",[s._v("所有按键元组")])]),s._v(" "),t("li",[s._v("通过 "),t("strong",[s._v("键盘常量")]),s._v("，判断元组中 "),t("strong",[s._v("某一个键是否被按下")]),s._v(" —— 如果被按下，对应数值为 "),t("code",[s._v("1")])])])])]),s._v(" "),t("p",[t("strong",[s._v("提问")]),s._v(" 这两种方式之间有什么区别呢？")]),s._v(" "),t("ul",[t("li",[s._v("第一种方式")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("KEYDOWN "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("and")]),s._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("K_RIGHT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"向右移动..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("第二种方式")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 返回所有按键的元组，如果某个键被按下，对应的值会是1")]),s._v("\nkeys_pressed "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get_pressed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断是否按下了方向键")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" keys_pressed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("K_RIGHT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"向右移动..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("p",[t("strong",[s._v("结论")])]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("第一种方式")]),s._v(" "),t("code",[s._v("event.type")]),s._v(" 用户 "),t("strong",[s._v("必须要抬起按键")]),s._v(" 才算一次 "),t("strong",[s._v("按键事件")]),s._v("，"),t("strong",[s._v("操作灵活性会大打折扣")])]),s._v(" "),t("li",[t("strong",[s._v("第二种方式")]),s._v(" 用户可以按住方向键不放，就能够实现持续向某一个方向移动了，"),t("strong",[s._v("操作灵活性更好")])])]),s._v(" "),t("h3",{attrs:{id:"_3-1-移动英雄位置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-移动英雄位置"}},[s._v("#")]),s._v(" 3.1 移动英雄位置")]),s._v(" "),t("p",[t("strong",[s._v("演练步骤")])]),s._v(" "),t("ol",[t("li",[s._v("在 "),t("code",[s._v("Hero")]),s._v(" 类中重写 "),t("code",[s._v("update")]),s._v(" 方法\n"),t("ul",[t("li",[s._v("用 "),t("strong",[s._v("速度")]),s._v(" "),t("code",[s._v("speed")]),s._v(" 和 "),t("strong",[s._v("英雄")]),s._v(" "),t("code",[s._v("rect.x")]),s._v(" 进行叠加")]),s._v(" "),t("li",[t("strong",[s._v("不需要调用父类方法")]),s._v(" —— 父类方法只是实现了单纯的垂直运动")])])]),s._v(" "),t("li",[s._v("在 "),t("code",[s._v("__event_handler")]),s._v(" 方法中根据 "),t("strong",[s._v("左右方向键")]),s._v(" 设置英雄的 "),t("strong",[s._v("速度")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("向右")]),s._v(" => "),t("code",[s._v("speed = 2")])]),s._v(" "),t("li",[t("strong",[s._v("向左")]),s._v(" => "),t("code",[s._v("speed = -2")])]),s._v(" "),t("li",[t("strong",[s._v("其他")]),s._v(" => "),t("code",[s._v("speed = 0")])])])])]),s._v(" "),t("p",[t("strong",[s._v("代码演练")])]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("Hero")]),s._v(" 类，重写 "),t("code",[s._v("update()")]),s._v(" 方法，"),t("strong",[s._v("根据速度水平移动")]),s._v(" 英雄的飞机")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("update")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 飞机水平移动")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("speed\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[s._v("调整键盘按键代码")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 获取用户按键")]),s._v("\nkeys_pressed "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("key"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("get_pressed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" keys_pressed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("K_RIGHT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("speed "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" keys_pressed"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("K_LEFT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("speed "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("speed "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h3",{attrs:{id:"_3-2-控制英雄运动边界"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-控制英雄运动边界"}},[s._v("#")]),s._v(" 3.2 控制英雄运动边界")]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("Hero")]),s._v(" 类的 "),t("code",[s._v("update()")]),s._v(" 方法判断 "),t("strong",[s._v("英雄")]),s._v(" 是否超出 "),t("strong",[s._v("屏幕边界")])])]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025349250200/003_pygame.Rect.png",alt:"003_pygame.Rect-w382"}})]),s._v(" "),t("ul",[t("li",[t("code",[s._v("right = x + width")]),s._v(" 利用 "),t("code",[s._v("right")]),s._v(" 属性可以非常容易的针对右侧设置精灵位置")])]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025349250200/017_%E8%8B%B1%E9%9B%84%E4%BD%8D%E7%BD%AEII.png",alt:"017_英雄位置II-w408"}})]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("update")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 飞机水平移动")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+=")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("speed\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断屏幕边界")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("left "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("left "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("right "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" SCREEN_RECT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("right"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("right "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" SCREEN_RECT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("right\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br")])]),t("h2",{attrs:{id:"_04-发射子弹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_04-发射子弹"}},[s._v("#")]),s._v(" 04. 发射子弹")]),s._v(" "),t("h3",{attrs:{id:"需求回顾-英雄需求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#需求回顾-英雄需求"}},[s._v("#")]),s._v(" 需求回顾 —— 英雄需求")]),s._v(" "),t("ol",[t("li",[s._v("游戏启动后，"),t("strong",[s._v("英雄")]),s._v(" 出现在屏幕的 "),t("strong",[s._v("水平中间")]),s._v(" 位置，距离 "),t("strong",[s._v("屏幕底部")]),s._v(" "),t("code",[s._v("120")]),s._v(" "),t("strong",[s._v("像素")])]),s._v(" "),t("li",[t("strong",[s._v("英雄")]),s._v(" 每隔 "),t("code",[s._v("0.5")]),s._v(" 秒发射一次子弹，每次 "),t("strong",[s._v("连发三枚子弹")])]),s._v(" "),t("li",[t("strong",[s._v("英雄")]),s._v(" 默认不会移动，需要通过 "),t("strong",[s._v("左/右")]),s._v(" 方向键，控制 "),t("strong",[s._v("英雄")]),s._v(" 在水平方向移动")])]),s._v(" "),t("h3",{attrs:{id:"_4-1-添加发射子弹事件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-添加发射子弹事件"}},[s._v("#")]),s._v(" 4.1 添加发射子弹事件")]),s._v(" "),t("p",[t("code",[s._v("pygame")]),s._v(" 的 "),t("strong",[s._v("定时器")]),s._v(" 使用套路非常固定：")]),s._v(" "),t("ol",[t("li",[s._v("定义 "),t("strong",[s._v("定时器常量")]),s._v(" —— "),t("code",[s._v("eventid")])]),s._v(" "),t("li",[s._v("在 "),t("strong",[s._v("初始化方法")]),s._v(" 中，调用 "),t("code",[s._v("set_timer")]),s._v(" 方法 "),t("strong",[s._v("设置定时器事件")])]),s._v(" "),t("li",[s._v("在 "),t("strong",[s._v("游戏循环")]),s._v(" 中，"),t("strong",[s._v("监听定时器事件")])])]),s._v(" "),t("p",[t("strong",[s._v("代码实现")])]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("Hero")]),s._v(" 中定义 "),t("code",[s._v("fire")]),s._v(" 方法")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fire")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"发射子弹..."')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("在 "),t("code",[s._v("plane_main.py")]),s._v(" 的顶部定义 "),t("strong",[s._v("发射子弹")]),s._v(" 事件常量")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 英雄发射子弹事件")]),s._v("\nHERO_FIRE_EVENT "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("USEREVENT "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("在 "),t("code",[s._v("__init__")]),s._v(" 方法末尾中添加 "),t("strong",[s._v("发射子弹")]),s._v(" 事件")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每隔 0.5 秒发射一次子弹")]),s._v("\npygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("time"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("set_timer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("HERO_FIRE_EVENT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("500")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("在 "),t("code",[s._v("__event_handler")]),s._v(" 方法中让英雄发射子弹")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("elif")]),s._v(" event"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("type")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" HERO_FIRE_EVENT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("hero"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fire"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"_4-2-定义子弹类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-定义子弹类"}},[s._v("#")]),s._v(" 4.2 定义子弹类")]),s._v(" "),t("h4",{attrs:{id:"需求回顾-子弹需求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#需求回顾-子弹需求"}},[s._v("#")]),s._v(" 需求回顾 —— 子弹需求")]),s._v(" "),t("ol",[t("li",[t("strong",[s._v("子弹")]),s._v(" 从 "),t("strong",[s._v("英雄")]),s._v(" 的正上方发射 "),t("strong",[s._v("沿直线")]),s._v(" 向 "),t("strong",[s._v("上方")]),s._v(" 飞行")]),s._v(" "),t("li",[t("strong",[s._v("飞出屏幕后")]),s._v("，需要从 "),t("strong",[s._v("精灵组")]),s._v(" 中删除")])]),s._v(" "),t("h4",{attrs:{id:"bullet-子弹-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bullet-子弹-2"}},[s._v("#")]),s._v(" Bullet —— 子弹")]),s._v(" "),t("ul",[t("li",[t("strong",[s._v("初始化方法")]),s._v(" "),t("ul",[t("li",[s._v("指定 "),t("strong",[s._v("子弹图片")])]),s._v(" "),t("li",[t("strong",[s._v("初始速度 = -2")]),s._v(" —— 子弹需要向上方飞行")])])]),s._v(" "),t("li",[s._v("重写 "),t("strong",[s._v("update()")]),s._v(" 方法\n"),t("ul",[t("li",[s._v("判断 "),t("strong",[s._v("是否飞出屏幕")]),s._v("，如果是，从 "),t("strong",[s._v("精灵组")]),s._v(" 删除")])])])]),s._v(" "),t("h4",{attrs:{id:"定义子弹类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定义子弹类"}},[s._v("#")]),s._v(" 定义子弹类")]),s._v(" "),t("ul",[t("li",[s._v("在 "),t("code",[s._v("plane_sprites")]),s._v(" 新建 "),t("code",[s._v("Bullet")]),s._v(" 继承自 "),t("code",[s._v("GameSprite")])]),s._v(" "),t("li",[s._v("重写 "),t("strong",[s._v("初始化方法")]),s._v("，直接指定 "),t("strong",[s._v("图片名称")]),s._v("，并且设置 "),t("strong",[s._v("初始速度")])]),s._v(" "),t("li",[s._v("重写 "),t("code",[s._v("update()")]),s._v(" 方法，判断子弹 "),t("strong",[s._v("飞出屏幕从精灵组删除")])])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Bullet")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("GameSprite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[s._v('"""子弹精灵"""')]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("__init__")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("__init__"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./images/bullet1.png"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n \n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("update")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    \n        "),t("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("super")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("update"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 判断是否超出屏幕，如果是，从精灵组删除")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bottom "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n            self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("kill"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br")])]),t("h3",{attrs:{id:"_4-3-发射子弹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-发射子弹"}},[s._v("#")]),s._v(" 4.3 发射子弹")]),s._v(" "),t("p",[t("strong",[s._v("演练步骤")])]),s._v(" "),t("ol",[t("li",[s._v("在 "),t("code",[s._v("Hero")]),s._v(" 的 "),t("strong",[s._v("初始化方法")]),s._v(" 中创建 "),t("strong",[s._v("子弹精灵组")]),s._v(" 属性")]),s._v(" "),t("li",[s._v("修改 "),t("code",[s._v("plane_main.py")]),s._v(" 的 "),t("code",[s._v("__update_sprites")]),s._v(" 方法，让 "),t("strong",[s._v("子弹精灵组")]),s._v(" 调用 "),t("code",[s._v("update")]),s._v(" 和 "),t("code",[s._v("draw")]),s._v(" 方法")]),s._v(" "),t("li",[s._v("实现 "),t("code",[s._v("fire()")]),s._v(" 方法\n"),t("ul",[t("li",[s._v("创建子弹精灵")]),s._v(" "),t("li",[s._v("设置初始位置 —— 在 "),t("strong",[s._v("英雄的正上方")])]),s._v(" "),t("li",[s._v("将 "),t("strong",[s._v("子弹")]),s._v(" 添加到精灵组")])])])]),s._v(" "),t("p",[t("strong",[s._v("代码实现")])]),s._v(" "),t("ul",[t("li",[s._v("初始化方法")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建子弹的精灵组")]),s._v("\nself"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bullets "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" pygame"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("sprite"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("修改 "),t("code",[s._v("fire()")]),s._v(" 方法")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fire")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 创建子弹精灵")]),s._v("\n    bullet "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Bullet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 设置精灵的位置")]),s._v("\n    bullet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bottom "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n    bullet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("centerx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("centerx\n    \n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 将精灵添加到精灵组")]),s._v("\n    self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bullets"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bullet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("h4",{attrs:{id:"一次发射三枚子弹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#一次发射三枚子弹"}},[s._v("#")]),s._v(" 一次发射三枚子弹")]),s._v(" "),t("p",[t("img",{attrs:{src:"media/15025349250200/017_%E8%8B%B1%E9%9B%84%E4%BD%8D%E7%BD%AEIII.png",alt:"017_英雄位置III-w559"}})]),s._v(" "),t("ul",[t("li",[s._v("修改 "),t("code",[s._v("fire()")]),s._v(" 方法，一次发射三枚子弹")])]),s._v(" "),t("div",{staticClass:"language-python line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-python"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("fire")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 1. 创建子弹精灵")]),s._v("\n        bullet "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Bullet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 2. 设置精灵的位置")]),s._v("\n        bullet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bottom "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("y "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" i "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("*")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v("\n        bullet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("centerx "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("rect"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("centerx\n        \n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 3. 将精灵添加到精灵组")]),s._v("\n        self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bullets"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("add"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("bullet"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);